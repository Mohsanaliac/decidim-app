{"ast":null,"code":"/* eslint-disable camelcase */\nvar controlSelector = function controlSelector(source, prefix, currentValueKey) {\n  if (source.length) {\n    var currentValue = source.data(currentValueKey),\n      searchUrl = source.data(\"\".concat(prefix, \"-search-url\")),\n      targetElement = $(\"#\".concat(source.data(\"\".concat(prefix, \"-selector\"))));\n    if (targetElement.length) {\n      var refresh = function refresh() {\n        $.ajax({\n          url: searchUrl,\n          cache: false,\n          dataType: \"html\",\n          data: {\n            type_id: source.val(),\n            selected: currentValue\n          },\n          success: function success(data) {\n            targetElement.html(data);\n          }\n        });\n      };\n      source.change(refresh);\n      refresh();\n    }\n  }\n};\n$(function () {\n  var typeSelector = $(\"[data-scope-selector]\");\n  controlSelector(typeSelector, \"scope\", \"scope-id\");\n  controlSelector(typeSelector, \"signature-types\", \"signature-type\");\n});","map":{"version":3,"names":["controlSelector","source","prefix","currentValueKey","length","currentValue","data","searchUrl","concat","targetElement","$","refresh","ajax","url","cache","dataType","type_id","val","selected","success","html","change","typeSelector"],"sources":["/home/mohsan/.rbenv/versions/3.0.6/lib/ruby/gems/3.0.0/gems/decidim-initiatives-0.27.10/app/packs/src/decidim/initiatives/scoped_type.js"],"sourcesContent":["/* eslint-disable camelcase */\nconst controlSelector = function(source, prefix, currentValueKey) {\n  if (source.length) {\n    let currentValue = source.data(currentValueKey),\n        searchUrl = source.data(`${prefix}-search-url`),\n        targetElement = $(`#${source.data(`${prefix}-selector`)}`);\n\n    if (targetElement.length) {\n      let refresh = function () {\n        $.ajax({\n          url: searchUrl,\n          cache: false,\n          dataType: \"html\",\n          data: {\n            type_id: source.val(),\n            selected: currentValue\n          },\n          success: function (data) {\n            targetElement.html(data);\n          }\n        });\n      };\n\n      source.change(refresh);\n      refresh();\n    }\n  }\n};\n\n$(() => {\n  let typeSelector = $(\"[data-scope-selector]\");\n  controlSelector(typeSelector, \"scope\", \"scope-id\");\n  controlSelector(typeSelector, \"signature-types\", \"signature-type\");\n});\n"],"mappings":"AAAA;AACA,IAAMA,eAAe,GAAG,SAAlBA,eAAeA,CAAYC,MAAM,EAAEC,MAAM,EAAEC,eAAe,EAAE;EAChE,IAAIF,MAAM,CAACG,MAAM,EAAE;IACjB,IAAIC,YAAY,GAAGJ,MAAM,CAACK,IAAI,CAACH,eAAe,CAAC;MAC3CI,SAAS,GAAGN,MAAM,CAACK,IAAI,IAAAE,MAAA,CAAIN,MAAM,gBAAa,CAAC;MAC/CO,aAAa,GAAGC,CAAC,KAAAF,MAAA,CAAKP,MAAM,CAACK,IAAI,IAAAE,MAAA,CAAIN,MAAM,cAAW,CAAC,CAAE,CAAC;IAE9D,IAAIO,aAAa,CAACL,MAAM,EAAE;MACxB,IAAIO,OAAO,GAAG,SAAVA,OAAOA,CAAA,EAAe;QACxBD,CAAC,CAACE,IAAI,CAAC;UACLC,GAAG,EAAEN,SAAS;UACdO,KAAK,EAAE,KAAK;UACZC,QAAQ,EAAE,MAAM;UAChBT,IAAI,EAAE;YACJU,OAAO,EAAEf,MAAM,CAACgB,GAAG,CAAC,CAAC;YACrBC,QAAQ,EAAEb;UACZ,CAAC;UACDc,OAAO,EAAE,SAATA,OAAOA,CAAYb,IAAI,EAAE;YACvBG,aAAa,CAACW,IAAI,CAACd,IAAI,CAAC;UAC1B;QACF,CAAC,CAAC;MACJ,CAAC;MAEDL,MAAM,CAACoB,MAAM,CAACV,OAAO,CAAC;MACtBA,OAAO,CAAC,CAAC;IACX;EACF;AACF,CAAC;AAEDD,CAAC,CAAC,YAAM;EACN,IAAIY,YAAY,GAAGZ,CAAC,CAAC,uBAAuB,CAAC;EAC7CV,eAAe,CAACsB,YAAY,EAAE,OAAO,EAAE,UAAU,CAAC;EAClDtB,eAAe,CAACsB,YAAY,EAAE,iBAAiB,EAAE,gBAAgB,CAAC;AACpE,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}